"use strict";(self.webpackChunkgamebook_creator=self.webpackChunkgamebook_creator||[]).push([[644],{4644:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var i,r,s=t(9439),a=t(168),o=t(2791),l=t(6031),c=t(9964),u=t(914),m=t(6106),d=t(3099),h=t(7309),f=t(4165),x=t(5861),k=t(3272),b=t(280),g=t(3478),Z=t(6697),j=t(8604),T=t(6871),p=t(5868),N=t(184),_=l.ZP.div(i||(i=(0,a.Z)(["\n    // put some styles here\n"]))),E=c.Z.Paragraph,w=function(e){var n=e.isVisible,t=e.setIsVisible,i=k.Z.useForm(),r=(0,s.Z)(i,1)[0],a=(0,Z.T)(),o=(0,Z.C)((function(e){return e.gamebook})).introduction,l=(0,T.s0)(),c=function(){var e=(0,x.Z)((0,f.Z)().mark((function e(n){var i,s;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.authorName,s=n.gamebookTitle,a((0,j.H$)({authorName:i.trim(),gamebookTitle:s.trim(),introduction:o})),r.resetFields(),t(!1),l("/editor");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){r.resetFields(),t(!1)};return(0,N.jsx)(_,{children:(0,N.jsx)(b.Z,{title:"Create new gamebook",visible:n,onCancel:u,footer:null,children:(0,N.jsxs)(k.Z,{form:r,layout:"vertical",autoComplete:"off",requiredMark:"optional",onFinish:c,initialValues:{authorName:"",gamebookTitle:""},children:[(0,N.jsx)(k.Z.Item,{label:"Author's name",name:"authorName",rules:[{required:!0,message:"Please input author's name!"},{min:p.k.AUHOR_NAME_LENGTH_MIN,message:"Name min ".concat(p.k.AUHOR_NAME_LENGTH_MIN," chars!")},{max:p.k.AUHOR_NAME_LENGTH_MAX,message:"Name max ".concat(p.k.AUHOR_NAME_LENGTH_MAX," chars")}],children:(0,N.jsx)(g.Z,{placeholder:"ex. John Doe"})}),(0,N.jsx)(k.Z.Item,{label:"Title",name:"gamebookTitle",rules:[{required:!0,message:"Please input gamebook main title!"},{min:p.k.CHAPTER_TITLE_LENGTH_MIN,message:"Name min ".concat(p.k.CHAPTER_TITLE_LENGTH_MIN," chars!")},{max:p.k.CHAPTER_TITLE_LENGTH_MAX,message:"Name max ".concat(p.k.CHAPTER_TITLE_LENGTH_MAX," chars")}],children:(0,N.jsx)(g.Z,{placeholder:"ex. New Journey of Halflings"})}),(0,N.jsx)(E,{type:"warning",children:"Please note, creating a new project will overwrite an existing project already stored in your web browser's DataBase. If you wish, export it to a file first."}),(0,N.jsx)(k.Z.Item,{style:{textAlign:"end"},children:(0,N.jsxs)(d.Z,{size:"middle",children:[(0,N.jsx)(h.Z,{onClick:u,children:"Cancel"}),(0,N.jsx)(h.Z,{danger:!0,htmlType:"submit",children:"Submit"})]})})]})})})},y=c.Z.Text,A=c.Z.Title,C=(0,l.ZP)(u.Z)(r||(r=(0,a.Z)(["\n    // put some styles here\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),H=function(){var e=(0,T.s0)(),n=(0,Z.T)(),t=(0,Z.C)((function(e){return e.gamebook})).isDbMetadata,i=o.useState(!1),r=(0,s.Z)(i,2),a=r[0],l=r[1],c=o.useState(!0),f=(0,s.Z)(c,2);f[0],f[1];o.useEffect((function(){return n((0,j.cw)()),function(){}}),[n]);var x=(new Date).getFullYear();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Z,{justify:"center",children:(0,N.jsxs)(C,{children:[(0,N.jsx)(A,{level:1,children:"GameBook Creator"}),(0,N.jsx)(y,{style:{marginBottom:"1rem"},children:"A gamebook is a work of printed fiction that allows the reader to participate in the story by making choices."}),(0,N.jsxs)(y,{style:{marginBottom:"2rem"},children:["\xa9 Grzegorz Kossowski 2022"," ",x>2022&&"- ".concat(x)]}),(0,N.jsx)(m.Z,{style:{width:"100%"},justify:"center",children:(0,N.jsx)(u.Z,{children:(0,N.jsxs)(d.Z,{direction:"vertical",size:"middle",children:[(0,N.jsx)(h.Z,{block:!0,onClick:function(){l(!0)},children:"New"}),(0,N.jsx)(h.Z,{block:!0,onClick:function(){e("/editor")},disabled:!t,children:"Open recent"}),(0,N.jsx)(h.Z,{block:!0,disabled:!0,children:"Import (*.gbf)"}),(0,N.jsx)(h.Z,{block:!0,disabled:!0,children:"Docs"}),(0,N.jsx)(h.Z,{block:!0,danger:!0,disabled:!0,onClick:function(){return n((0,j.bQ)())},children:"Delete DB"})]})})})]})}),(0,N.jsx)(w,{isVisible:a,setIsVisible:l})]})}},6697:function(e,n,t){t.d(n,{C:function(){return s},T:function(){return r}});var i=t(9434),r=function(){return(0,i.I0)()},s=i.v9}}]);
//# sourceMappingURL=644.d8ee2253.chunk.js.map