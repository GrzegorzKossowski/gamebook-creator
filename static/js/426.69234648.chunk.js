"use strict";(self.webpackChunkgamemaker=self.webpackChunkgamemaker||[]).push([[426],{3426:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var i,r,s,l,o,a=t(168),c=t(6106),d=t(914),x=t(2791),h=t(6031),u=t(1413),p=t(9439),m=t(9964),g=t(3478),b=t(6697),j=t(4304),f=t(4483),k=t(3174),Z=t(184),v=function(e){var n=e.dead,t=e.end,i=e.fixed,r=e.ready,s=e.start,l=e.win;return(0,Z.jsxs)(Z.Fragment,{children:[s&&(0,Z.jsx)(f.G,{icon:k.zc,size:"sm",style:{marginRight:"10px"}}),i&&(0,Z.jsx)(f.G,{icon:k.Lad,size:"sm",style:{marginRight:"10px"}}),n&&(0,Z.jsx)(f.G,{icon:k.QmK,size:"sm",style:{marginRight:"10px"}}),t&&(0,Z.jsx)(f.G,{icon:k.ej9,size:"sm",style:{marginRight:"10px"}}),l&&(0,Z.jsx)(f.G,{icon:k.kWN,size:"sm",style:{marginRight:"10px"},color:"gold"}),r?(0,Z.jsx)(f.G,{icon:k.fV7,size:"sm",style:{marginRight:"10px"},color:"green"}):(0,Z.jsx)(f.G,{icon:k.WA2,size:"sm",style:{marginRight:"10px"},color:"red"})]})},y=m.Z.Text,w=h.ZP.div(i||(i=(0,a.Z)(["\n    // put some styles here\n    height: 100%;\n    /* border: 1px solid #444; */\n    padding: 10px;\n\n    .tree-list {\n        overflow-y: auto;\n        height: calc(100% - 50px);\n        border: 1px solid #444;\n        margin: 10px 0;\n        list-style-type: none;\n        padding-left: 15px;\n        li {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            font-size: 1.2rem;\n            color: #bbb;\n            margin: 10px 0px;\n            padding: 5px 0;\n            &:hover {\n                background-color: #222;\n            }\n        }\n        &_selected {\n            background-color: #333;\n        }\n    }\n"]))),C=function(){var e=(0,b.C)((function(e){return e.gamebook})),n=e.chapters,t=e.selectedId,i=(0,b.T)(),r=x.useState(t),s=(0,p.Z)(r,2),l=s[0],o=s[1],a=x.useState(""),c=(0,p.Z)(a,2),d=c[0],h=c[1];return x.useEffect((function(){return console.log(l),function(){}}),[l]),(0,Z.jsxs)(w,{children:[(0,Z.jsx)(g.Z,{placeholder:"Filter paragraphs by title",size:"large",allowClear:!0,value:d,onChange:function(e){h(e.target.value)}}),(0,Z.jsx)("ul",{className:"tree-list",children:n.filter((function(e){return d.split(" ").some((function(n){return e.title.toLowerCase().trim().includes(n.toLowerCase().trim())||parseInt(n.trim())===e.chapterNumber}))})).map((function(e){return(0,Z.jsxs)("li",{className:"tree-list_chapter ".concat(e.id===t?"tree-list_selected":""),onClick:function(){return n=e.id,o(n),void i((0,j.kC)(n));var n},children:[(0,Z.jsx)(y,{children:"".concat(e.chapterNumber,") ").concat(e.title.length>25?e.title.slice(0,25)+"...":e.title)}),(0,Z.jsx)("div",{children:(null===e||void 0===e?void 0:e.status)&&(0,Z.jsx)(v,(0,u.Z)({},e.status))})]},e.id)}))})]})},G=t(3272),z=t(7309),S=h.ZP.div(r||(r=(0,a.Z)(["\n    // put some styles here\n    height: 100%;\n    textarea {\n        width: 100%;\n        height: 50vh;\n        padding: 12px 20px;\n        font-size: 1.2rem;\n        resize: none;\n    }\n"]))),T=function(){var e=(0,b.C)((function(e){return e.gamebook})),n=e.chapters,t=e.selectedId,i=G.Z.useForm(),r=(0,p.Z)(i,1)[0];return x.useEffect((function(){var e,i,s;t&&(s=n.find((function(e){return e.id===t}))),r.setFieldsValue({title:null===(e=s)||void 0===e?void 0:e.title,content:null===(i=s)||void 0===i?void 0:i.content})}),[t]),(0,Z.jsx)(S,{children:(0,Z.jsxs)(G.Z,{form:r,autoComplete:"off",layout:"vertical",size:"large",children:[(0,Z.jsx)(G.Z.Item,{label:"Title",name:"title",children:(0,Z.jsx)(g.Z,{})}),(0,Z.jsx)(G.Z.Item,{label:"Paragraph",name:"content",className:"chapter-editor_textarea",children:(0,Z.jsx)(g.Z.TextArea,{})}),(0,Z.jsx)(G.Z.Item,{children:(0,Z.jsx)(z.Z,{children:"Save"})})]})})},_=t(6060),N=t(4806),P=t(62),F=m.Z.Paragraph,I=m.Z.Title,E=h.ZP.div(s||(s=(0,a.Z)(["\n    // put some styles here\n"]))),R=function(e){var n=e.isVisible,t=e.setIsVisible,i=(0,b.T)(),r=(0,b.C)((function(e){return e.gamebook})),s=r.authorName,l=r.gamebookTitle,o=x.useState(s),a=(0,p.Z)(o,2),h=a[0],u=a[1],m=x.useState(l),g=(0,p.Z)(m,2),f=g[0],k=g[1];return(0,Z.jsx)(E,{children:(0,Z.jsxs)(N.Z,{title:"View / Edit gamebook metadata",visible:n,footer:null,onCancel:function(){t(!1)},children:[(0,Z.jsx)(I,{level:5,children:"Author"}),(0,Z.jsx)(F,{editable:{icon:(0,Z.jsx)(P.Z,{}),tooltip:"click to edit text",onChange:u},children:h}),(0,Z.jsx)(I,{level:5,children:"Title"}),(0,Z.jsx)(F,{editable:{icon:(0,Z.jsx)(P.Z,{}),tooltip:"click to edit text",onChange:k},children:f}),(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(d.Z,{span:24,style:{display:"flex",justifyContent:"end"},children:(0,Z.jsx)(z.Z,{onClick:function(){i((0,j.y2)(h)),i((0,j.K2)(f))},children:"Save"})})})]})})},V=h.ZP.div(l||(l=(0,a.Z)(["\n    // put some styles here\n"]))),L=[{label:"File",key:"File",children:[{label:"New book",key:"newBook",icon:(0,Z.jsx)(f.G,{icon:k.FL8}),disabled:!0},{label:"Oper existing",key:"openExisting",icon:(0,Z.jsx)(f.G,{icon:k.cC_}),disabled:!0}]},{label:"Book",key:"bookOptions",children:[{label:"Add new chapter",key:"addNewChapter",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:k.b7h})},{label:"Schuffle chapters",key:"schuffleChapters",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:k.RJo})},{label:"Statistics",key:"bookStatistics",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:k.OS1})},{label:"Metadata",key:"metadata",disabled:!1,icon:(0,Z.jsx)(f.G,{icon:k.cnt})}]},{label:"Export",key:"exportBook",children:[{label:"Export to HTML",key:"exportHtml",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:k.w49})},{label:"Export to PDF",key:"exportPdf",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:k.gSj})},{label:"Export to TXT",key:"exportTxt",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:k.nfZ})}]},{label:"Html Preview",key:"previewBook",disabled:!0}],A=function(){var e=x.useState("mail"),n=(0,p.Z)(e,2),t=n[0],i=n[1],r=x.useState(!1),s=(0,p.Z)(r,2),l=s[0],o=s[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(V,{children:(0,Z.jsx)(_.Z,{onClick:function(e){console.log("click ",e),i(e.key)},selectedKeys:[t],mode:"horizontal",items:L})}),(0,Z.jsx)(R,{isVisible:l,setIsVisible:o})]})},B=h.ZP.div(o||(o=(0,a.Z)(["\n    // put some styles here\n    height: 100vh;\n    /* border: 1px solid red; */\n    .sidebar__tree-container {\n        /* border: 1px solid blue; */\n        width: 25%;\n        height: calc(100vh - 86px);\n        overflow-y: hidden;\n    }\n    .graph__tree-container {\n        width: 25%;\n        height: calc(100vh - 86px);\n        /* background-color: #222; */\n    }\n    .editor-container {\n        padding: 10px;\n        width: 50%;\n    }\n"]))),O=function(e){Object.assign({},e);return(0,Z.jsxs)(B,{children:[(0,Z.jsx)(A,{}),(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{className:"sidebar__tree-container",xs:{span:24,order:2},md:{span:12,order:2},lg:{span:10,order:1},xl:{span:6,order:1},children:(0,Z.jsx)(C,{})}),(0,Z.jsx)(d.Z,{className:"editor-container",xs:{span:24,order:1},md:{span:24,order:1},lg:{span:14,order:2},xl:{span:12,order:2},children:(0,Z.jsx)(T,{})}),(0,Z.jsx)(d.Z,{className:"graph__tree-container",xs:{span:24,order:3},md:{span:12,order:3},lg:{span:24,order:3},xl:{span:6,order:3}})]})]})}},6697:function(e,n,t){t.d(n,{C:function(){return s},T:function(){return r}});var i=t(9434),r=function(){return(0,i.I0)()},s=i.v9}}]);
//# sourceMappingURL=426.69234648.chunk.js.map