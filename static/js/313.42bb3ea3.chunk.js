"use strict";(self.webpackChunkgamemaker=self.webpackChunkgamemaker||[]).push([[313],{7313:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var i,o,l,s,a,r,d=t(168),c=t(6106),h=t(914),x=t(2791),u=t(6031),p=t(1413),m=t(9439),j=t(9964),g=t(3272),f=t(3478),b=t(7309),Z=t(4806),v=t(4587),k=t(6697),y=t(4304),N=t(4483),C=t(3174),w=t(184),I=function(e){var n=e.dead,t=e.end,i=e.fixed,o=e.ready,l=e.start,s=e.win;return(0,w.jsxs)(w.Fragment,{children:[l&&(0,w.jsx)(N.G,{icon:C.zc,size:"sm",style:{marginRight:"10px"}}),i&&(0,w.jsx)(N.G,{icon:C.Lad,size:"sm",style:{marginRight:"10px"}}),n&&(0,w.jsx)(N.G,{icon:C.QmK,size:"sm",style:{marginRight:"10px"}}),t&&(0,w.jsx)(N.G,{icon:C.ej9,size:"sm",style:{marginRight:"10px"}}),s&&(0,w.jsx)(N.G,{icon:C.kWN,size:"sm",style:{marginRight:"10px"},color:"gold"}),o?(0,w.jsx)(N.G,{icon:C.fV7,size:"sm",style:{marginRight:"10px"},color:"green"}):(0,w.jsx)(N.G,{icon:C.WA2,size:"sm",style:{marginRight:"10px"},color:"red"})]})},F=j.Z.Text,G=u.ZP.div(i||(i=(0,d.Z)(["\n    // put some styles here\n    height: 100%;\n    padding: 10px;\n\n    .tree-list {\n        overflow-y: auto;\n        height: calc(100% - 100px);\n        border: 1px solid #444;\n        margin: 10px 0;\n        list-style-type: none;\n        padding-left: 15px;\n        li {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            font-size: 1.2rem;\n            color: #bbb;\n            margin: 10px 0px;\n            padding: 5px 0;\n            &:hover {\n                background-color: #222;\n                cursor: pointer;\n            }\n        }\n        &_selected {\n            background-color: #333;\n        }\n    }\n"]))),P=function(){var e=(0,k.C)((function(e){return e.gamebook})),n=e.chapters,t=e.selectedId,i=(0,k.T)(),o=x.useState(t),l=(0,m.Z)(o,2),s=l[0],a=l[1],r=x.useState(""),d=(0,m.Z)(r,2),u=d[0],j=d[1],P=g.Z.useForm(),T=(0,m.Z)(P,1)[0];x.useEffect((function(){return console.log(s),function(){}}),[s]);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(G,{children:[(0,w.jsx)(f.Z,{placeholder:"Filter paragraphs by title or number",size:"large",allowClear:!0,value:u,onChange:function(e){j(e.target.value)}}),(0,w.jsx)("ul",{className:"tree-list",children:n.filter((function(e){return u.split(" ").some((function(n){return e.title.toLowerCase().trim().includes(n.toLowerCase().trim())||parseInt(n.trim())===e.chapterNumber}))})).map((function(e){return(0,w.jsxs)("li",{className:"tree-list_chapter ".concat(e.id===t?"tree-list_selected":""),onClick:function(){return n=e.id,a(n),void i((0,y.kC)(n));var n},children:[(0,w.jsx)(F,{children:"".concat(e.chapterNumber,") ").concat(e.title.length>25?e.title.slice(0,25)+"...":e.title)}),(0,w.jsx)("div",{children:(null===e||void 0===e?void 0:e.status)&&(0,w.jsx)(I,(0,p.Z)({},e.status))})]},e.id)}))}),(0,w.jsxs)(b.Z,{block:!0,size:"large",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.KtF})," ","New chapter"]}),(0,w.jsx)(Z.Z,{title:"Create new Chapter",visible:!1,onOk:function(){},onCancel:function(){},footer:null,width:700,children:(0,w.jsxs)(g.Z,{form:T,autoComplete:"off",layout:"vertical",size:"large",onFinish:function(e){console.log(e)},children:[(0,w.jsx)(g.Z.Item,{label:"Title",children:(0,w.jsx)(f.Z,{})}),(0,w.jsxs)(c.Z,{gutter:16,justify:"center",children:[(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"win",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.kWN})," ","Win ending"]})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"dead",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},value:"Dead ending",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.QmK})," ","Dead ending"]})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"fixed",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},value:"Fixed chapter",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.Lad})," ","Fixed chapter"]})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"ready",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},value:"Fixed chapter",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.fV7})," ","Is ready"]})})})]}),(0,w.jsx)(g.Z.Item,{style:{textAlign:"end"},children:(0,w.jsx)(b.Z,{htmlType:"submit",children:"Create"})})]})})]})})},T=u.ZP.div(o||(o=(0,d.Z)(["\n    // put some styles here\n    height: 100%;\n    textarea {\n        width: 100%;\n        height: 50vh;\n        padding: 12px 20px;\n        font-size: 1.2rem;\n        resize: none;\n    }\n"]))),z=function(){var e=(0,k.C)((function(e){return e.gamebook})),n=e.chapters,t=e.selectedId,i=g.Z.useForm(),o=(0,m.Z)(i,1)[0];x.useEffect((function(){var e,i,l,s,a,r,d,c,h,x,u,p,m;t&&(e=n.find((function(e){return e.id===t})),o.setFieldsValue({id:null===(i=e)||void 0===i?void 0:i.id,chapterNumber:null===(l=e)||void 0===l?void 0:l.chapterNumber,title:null===(s=e)||void 0===s?void 0:s.title,content:null===(a=e)||void 0===a?void 0:a.content,win:null===(r=e)||void 0===r||null===(d=r.status)||void 0===d?void 0:d.win,dead:null===(c=e)||void 0===c||null===(h=c.status)||void 0===h?void 0:h.dead,fixed:null===(x=e)||void 0===x||null===(u=x.status)||void 0===u?void 0:u.fixed,ready:null===(p=e)||void 0===p||null===(m=p.status)||void 0===m?void 0:m.ready}))}),[t]);return(0,w.jsx)(T,{children:(0,w.jsxs)(g.Z,{form:o,autoComplete:"off",layout:"vertical",size:"large",onFinish:function(e){console.log(e)},children:[(0,w.jsxs)(c.Z,{children:[(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"chapterNumber",hidden:!0,children:(0,w.jsx)(f.Z,{})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"id",hidden:!0,children:(0,w.jsx)(f.Z,{})})})]}),(0,w.jsx)(g.Z.Item,{label:"Title",name:"title",children:(0,w.jsx)(f.Z,{})}),(0,w.jsxs)(c.Z,{gutter:16,children:[(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"win",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.kWN})," Win ending"]})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"dead",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},value:"Dead ending",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.QmK})," ","Dead ending"]})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"fixed",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},value:"Fixed chapter",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.Lad})," Fixed chapter"]})})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(g.Z.Item,{name:"ready",valuePropName:"checked",children:(0,w.jsxs)(v.Z,{onChange:function(){},value:"Fixed chapter",children:[(0,w.jsx)(N.G,{className:"faIcon",icon:C.fV7})," Is ready"]})})})]}),(0,w.jsx)(g.Z.Item,{label:"Paragraph",name:"content",className:"chapter-editor_textarea",children:(0,w.jsx)(f.Z.TextArea,{})}),(0,w.jsx)(g.Z.Item,{children:(0,w.jsx)(b.Z,{htmlType:"submit",disabled:!t,block:!0,children:"Save"})})]})})},_=t(6015),S=(j.Z.Title,j.Z.Text,j.Z.Paragraph,u.ZP.div(l||(l=(0,d.Z)(["\n    // put some styles here\n    height: 100%;\n    padding: 10px;\n    .graph-container {\n        background-color: #222;\n        height: 50%;\n        border: 1px solid #444;\n    }\n"])))),V={nodes:[{id:"blebleble",label:"node 1 tootip text",title:"node 1 tootip text",color:"white"},{id:2,label:"Node 2 tootip text",title:"node 2 tootip text"},{id:3,label:"Node 3 tootip text",title:"node 3 tootip text"},{id:4,label:"Node 4 tootip text",title:"node 4 tootip text"},{id:5,label:"Node 5 tootip text",title:"node 5 tootip text"},{id:6,label:"Node 6 tootip text",title:"node 5 tootip text"},{id:7,label:"Node 7 tootip text",title:"node 5 tootip text"},{id:8,label:"Node 8 tootip text",title:"node 5 tootip text"}],edges:[{from:"blebleble",to:2},{from:"blebleble",to:3},{from:2,to:4},{from:2,to:5},{from:3,to:4},{from:4,to:8},{from:5,to:6},{from:5,to:7}]},E={layout:{hierarchical:!1,randomSeed:321},edges:{color:"#FFFFFF",smooth:!0},nodes:{shape:"box"},height:"100%",width:"100%"},R={select:function(e){e.nodes,e.edges}},L=function(e){e.data;return(0,w.jsxs)(S,{children:[(0,w.jsx)("div",{className:"graph-container",children:(0,w.jsx)(_.Z,{graph:V,options:E,events:R})}),(0,w.jsx)("div",{children:"bleble"})]})},K=t(6060),W=t(62),A=j.Z.Paragraph,D=j.Z.Title,O=u.ZP.div(s||(s=(0,d.Z)(["\n    // put some styles here\n"]))),B=function(e){var n=e.isVisible,t=e.setIsVisible,i=(0,k.T)(),o=(0,k.C)((function(e){return e.gamebook})),l=o.authorName,s=o.gamebookTitle,a=x.useState(l),r=(0,m.Z)(a,2),d=r[0],u=r[1],p=x.useState(s),j=(0,m.Z)(p,2),g=j[0],f=j[1];return(0,w.jsx)(O,{children:(0,w.jsxs)(Z.Z,{title:"View / Edit gamebook metadata",visible:n,footer:null,onCancel:function(){t(!1)},children:[(0,w.jsx)(D,{level:5,children:"Author"}),(0,w.jsx)(A,{editable:{icon:(0,w.jsx)(W.Z,{}),tooltip:"click to edit text",onChange:u},children:d}),(0,w.jsx)(D,{level:5,children:"Title"}),(0,w.jsx)(A,{editable:{icon:(0,w.jsx)(W.Z,{}),tooltip:"click to edit text",onChange:f},children:g}),(0,w.jsx)(c.Z,{children:(0,w.jsx)(h.Z,{span:24,style:{display:"flex",justifyContent:"end"},children:(0,w.jsx)(b.Z,{onClick:function(){i((0,y.y2)(d)),i((0,y.K2)(g))},children:"Save"})})})]})})},H=u.ZP.div(a||(a=(0,d.Z)(["\n    // put some styles here\n"]))),Q=[{label:"File",key:"File",children:[{label:"New book",key:"newBook",icon:(0,w.jsx)(N.G,{icon:C.FL8}),disabled:!0},{label:"Oper existing",key:"openExisting",icon:(0,w.jsx)(N.G,{icon:C.cC_}),disabled:!0}]},{label:"Book",key:"bookOptions",children:[{label:"Add new chapter",key:"addNewChapter",disabled:!0,icon:(0,w.jsx)(N.G,{icon:C.b7h})},{label:"Schuffle chapters",key:"schuffleChapters",disabled:!0,icon:(0,w.jsx)(N.G,{icon:C.RJo})},{label:"Statistics",key:"bookStatistics",disabled:!0,icon:(0,w.jsx)(N.G,{icon:C.OS1})},{label:"Metadata",key:"metadata",disabled:!1,icon:(0,w.jsx)(N.G,{icon:C.cnt})}]},{label:"Export",key:"exportBook",children:[{label:"Export to HTML",key:"exportHtml",disabled:!0,icon:(0,w.jsx)(N.G,{icon:C.w49})},{label:"Export to PDF",key:"exportPdf",disabled:!0,icon:(0,w.jsx)(N.G,{icon:C.gSj})},{label:"Export to TXT",key:"exportTxt",disabled:!0,icon:(0,w.jsx)(N.G,{icon:C.nfZ})}]},{label:"Html Preview",key:"previewBook",disabled:!0},{label:"New Chapter",key:"newChapter"}],M=function(){var e=x.useState("mail"),n=(0,m.Z)(e,2),t=n[0],i=n[1],o=x.useState(!1),l=(0,m.Z)(o,2),s=l[0],a=l[1];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(H,{children:(0,w.jsx)(K.Z,{onClick:function(e){console.log("click ",e),i(e.key)},selectedKeys:[t],mode:"horizontal",items:Q})}),(0,w.jsx)(B,{isVisible:s,setIsVisible:a})]})},J=u.ZP.div(r||(r=(0,d.Z)(["\n    height: 100vh;\n    .editor-page_container {\n        height: calc(100% - 46px);\n    }\n    .sidebar__tree-container {\n        width: 25%;\n        height: 100%;\n        overflow-y: hidden;\n    }\n    .editor-container {\n        padding: 10px;\n        width: 50%;\n        height: 100%;\n    }\n    .graph__tree-container {\n        width: 25%;\n        height: 100%;\n    }\n"]))),X=function(e){Object.assign({},e);return(0,w.jsxs)(J,{children:[(0,w.jsx)(M,{}),(0,w.jsxs)(c.Z,{className:"editor-page_container",children:[(0,w.jsx)(h.Z,{className:"sidebar__tree-container",xs:{span:24,order:2},md:{span:12,order:2},lg:{span:10,order:1},xl:{span:6,order:1},children:(0,w.jsx)(P,{})}),(0,w.jsx)(h.Z,{className:"editor-container",xs:{span:24,order:1},md:{span:24,order:1},lg:{span:14,order:2},xl:{span:12,order:2},children:(0,w.jsx)(z,{})}),(0,w.jsx)(h.Z,{className:"graph__tree-container",xs:{span:24,order:3},md:{span:12,order:3},lg:{span:24,order:3},xl:{span:6,order:3},children:(0,w.jsx)(L,{data:[]})})]})]})}},6697:function(e,n,t){t.d(n,{C:function(){return l},T:function(){return o}});var i=t(9434),o=function(){return(0,i.I0)()},l=i.v9}}]);
//# sourceMappingURL=313.42bb3ea3.chunk.js.map