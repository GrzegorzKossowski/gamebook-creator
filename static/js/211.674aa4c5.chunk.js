"use strict";(self.webpackChunkgamebook_creator=self.webpackChunkgamebook_creator||[]).push([[211],{8211:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r,o=t(168),i=t(6106),a=t(914),c=t(3433),s=t(9439),d=t(2791),l=t(6031),h=t(6697),u=t(2810),g=t(6015),p=t(5868),f=t(184),m=l.ZP.div(r||(r=(0,o.Z)(["\n    // put some styles here\n    height: 100%;\n    padding: 10px;\n    .graph-container {\n        background-color: #222;\n        height: 100%;\n        border: 1px solid #444;\n    }\n"]))),b={nodes:[],edges:[]},v={layout:{hierarchical:!1,randomSeed:321},edges:{color:"#FFFFFF",smooth:!0},nodes:{shape:"box"},height:"100%",width:"100%"},x={select:function(e){e.nodes,e.edges}};function Z(e){return e.id===p.k.FIRST_CHAPTER_ID?"blue":"white"}var _,k=function(){var e=(0,h.C)((function(e){return e.gamebook})),n=e.chapters,t=(e.selectedId,d.useState(b)),r=(0,s.Z)(t,2),o=r[0],i=r[1];return d.useEffect((function(){var e=n.map((function(e){return e.id})),t=n.map((function(t){var r,o,i=null===(r=t.content)||void 0===r||null===(o=r.match(/(\d+)/g))||void 0===o?void 0:o.map((function(e){return parseInt(e)}));return null===i||void 0===i?void 0:i.map((function(r){return r>0&&r<n.length?{from:t.id,to:e[r-1]}:{from:t.id,to:"NO_CHAPTER"}}))})).flat();i({nodes:[].concat((0,c.Z)(n.map((function(e){return{id:e.id,label:"".concat(e.chapterNumber," ").concat(e.title.slice(0,10)),title:"".concat(e.chapterNumber," ").concat(e.title.slice(0,10)),color:Z(e)}}))),[{id:"NO_CHAPTER",label:"NO CHAPTER",title:"NO CHAPTER",color:"red"}]),edges:(0,c.Z)(t)})}),[n]),(0,f.jsx)(m,{children:(0,f.jsx)("div",{className:"graph-container",children:(0,f.jsx)(g.Z,{graph:o,options:v,events:x},(0,u.Z)())})})},N=t(7052),j=l.ZP.div(_||(_=(0,o.Z)(["\n    // put some styles here\n    height: 100vh;\n    .graph-big_page-container {\n        height: calc(100% - 70px);\n        width: 100%;\n    }\n    .graph-big_tree-container {\n        width: 100%;\n    }\n"]))),C=function(){return(0,f.jsxs)(j,{children:[(0,f.jsx)(N.Z,{}),(0,f.jsx)(i.Z,{className:"graph-big_page-container",children:(0,f.jsx)(a.Z,{className:"graph-big_tree-container",children:(0,f.jsx)(k,{})})})]})}}}]);
//# sourceMappingURL=211.674aa4c5.chunk.js.map