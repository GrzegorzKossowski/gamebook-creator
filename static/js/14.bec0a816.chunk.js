(self.webpackChunkgamebook_creator=self.webpackChunkgamebook_creator||[]).push([[14],{38:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(4483),r=n(3174),o=n(184),a=function(t){var e=t.dead,n=t.fixed,a=t.ready,s=t.start,u=t.win;return(0,o.jsxs)(o.Fragment,{children:[s&&(0,o.jsx)(i.G,{icon:r.zc,size:"sm",style:{marginRight:"10px"}}),n&&(0,o.jsx)(i.G,{icon:r.Lad,size:"sm",style:{marginRight:"10px"}}),e&&(0,o.jsx)(i.G,{icon:r.QmK,size:"sm",style:{marginRight:"10px"}}),u&&(0,o.jsx)(i.G,{icon:r.kWN,size:"sm",style:{marginRight:"10px"},color:"gold"}),a?(0,o.jsx)(i.G,{icon:r.fV7,size:"sm",style:{marginRight:"10px"},color:"green"}):(0,o.jsx)(i.G,{icon:r.WA2,size:"sm",style:{marginRight:"10px"},color:"red"})]})}},6485:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i,r=n(168),o=(n(2791),n(6031)),a=n(6060),s=n(4483),u=n(3174),f=n(6871),c=n(184),l=o.ZP.div(i||(i=(0,r.Z)(["\n    // put some styles here\n"]))),d=[{label:"Editor",key:"goToEditor",disabled:!1,icon:(0,c.jsx)(s.G,{icon:u.A35})}],h=function(){var t=(0,f.s0)();return(0,c.jsx)(l,{children:(0,c.jsx)(a.Z,{onClick:function(e){if("goToEditor"===e.key)t("/editor")},mode:"horizontal",items:d})})}},3014:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var i,r,o=n(9439),a=n(168),s=n(2791),u=n(6031),f=n(9964),c=n(6106),l=n(914),d=n(9581),h=n(7309),p=n(6485),g=n(6697),v=n(4483),m=n(3174),x=n(1413),y=n(844),Z=n.n(y),j=n(2810),T=n(8604),b=n(5868),w=n(38),P=n(184),_=u.ZP.div(i||(i=(0,a.Z)(["\n    // put some styles here\n    .single {\n        &__paragraph {\n            padding-bottom: 2rem;\n        }\n        &__title {\n            text-align: center;\n        }\n        &__content {\n            font-size: 1.2rem;\n            line-height: 2rem;\n        }\n    }\n"]))),k=f.Z.Title,N=f.Z.Text,C=f.Z.Paragraph,E=function(){var t=(0,g.T)(),e=(0,g.C)((function(t){return t.gamebook})),n=(e.authorName,e.gamebookTitle,e.chapters),i=e.selectedId,r=s.useState([]),a=(0,o.Z)(r,2),u=a[0],f=a[1],c=s.useState(""),l=(0,o.Z)(c,2);l[0],l[1];s.useEffect((function(){f((function(){return n.map((function(t){return t.id}))})),i||t((0,T.kC)(b.k.FIRST_CHAPTER_ID))}),[]);var d=s.useCallback((function(e){console.log(e),t((0,T.kC)(e))}),[]),p=function(t){if(!t)return(0,P.jsx)(N,{children:"No chapter's content"});var e=Z()(t,/(\n)+/g,(function(t,e){return(0,P.jsx)("br",{})}));return e=Z()(e,/\{(\d+)\}/g,(function(t,e){var n=u[parseInt(t)-1];return n?(0,P.jsx)("span",{children:(0,P.jsx)(h.Z,{onClick:function(){return d(n)},children:t})},(0,j.Z)()):(0,P.jsxs)("span",{style:{color:"#ffd000"},children:["[",t,"]"]},(0,j.Z)())})),Z()(e,/\{\}/g,(function(t,e){return(0,P.jsx)("span",{style:{color:"#ff2f00"},children:"{EMPTY}"},(0,j.Z)())}))};return(0,P.jsx)(_,{children:n&&i&&n.filter((function(t){return t.id===i})).map((function(t){return(0,P.jsxs)(C,{className:"single__paragraph",id:t.id,children:[t.chapterNumber&&(0,P.jsx)(k,{level:4,className:"single__title",children:t.chapterNumber}),t.title&&(0,P.jsxs)(k,{level:4,className:"single__title",children:[t.status&&(0,P.jsx)(w.Z,(0,x.Z)({},t.status)),t.title]}),(0,P.jsx)(N,{className:"single__content",children:p(null===t||void 0===t?void 0:t.content)})]},t.id)}))})},R=u.ZP.div(r||(r=(0,a.Z)(["\n    // put some styles here\n    .play {\n        &__container {\n            padding: 2rem 0;\n            text-align: justify;\n        }\n        &__title {\n            text-align: center;\n        }\n        &__author {\n            text-align: center;\n            margin-bottom: 4rem;\n        }\n    }\n"]))),S=f.Z.Title,z=(f.Z.Text,f.Z.Paragraph,function(){var t=(0,g.T)(),e=(0,g.C)((function(t){return t.gamebook})),n=e.authorName,i=e.gamebookTitle,r=e.chapters,a=(e.selectedId,s.useState([])),u=(0,o.Z)(a,2),f=(u[0],u[1]);s.useEffect((function(){f((function(){return r.map((function(t){return t.id}))}))}),[]);return(0,P.jsxs)(R,{children:[(0,P.jsx)(p.Z,{}),(0,P.jsx)(c.Z,{justify:"center",className:"play__container",id:"mainRow",children:(0,P.jsxs)(l.Z,{xs:22,sm:22,md:22,lg:16,xl:12,xxl:10,children:[(0,P.jsx)(S,{level:2,className:"play__title",children:i}),(0,P.jsxs)(S,{level:4,className:"play__author",children:["by ",n]}),(0,P.jsx)(E,{})]})}),(0,P.jsx)(d.Z,{style:{position:"fixed",bottom:50,right:50},children:(0,P.jsxs)(h.Z,{size:"large",type:"primary",onClick:function(){t((0,T.kC)(b.k.FIRST_CHAPTER_ID))},children:[(0,P.jsx)(v.G,{icon:m.UAH,className:"faIcon"})," ","Start from first chapter"]})})]})})},6697:function(t,e,n){"use strict";n.d(e,{C:function(){return o},T:function(){return r}});var i=n(9434),r=function(){return(0,i.I0)()},o=i.v9},9581:function(t,e,n){"use strict";n.d(e,{Z:function(){return R}});var i=n(7462),r=n(4942),o=n(5671),a=n(3144),s=n(136),u=n(7277),f=n(1002),c=n(2791),l=n(1694),d=n.n(l),h=n(1818),p=n(8829),g=n(3785),v=n(3433),m=n(5314);function x(){return function(t,e,n){var i=n.value,r=!1;return{configurable:!0,get:function(){if(r||this===t.prototype||this.hasOwnProperty(e))return i;var n=function(t){var e,n=function(n){return function(){e=null,t.apply(void 0,(0,v.Z)(n))}},i=function(){if(null==e){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e=(0,m.Z)(n(i))}};return i.cancel=function(){m.Z.cancel(e),e=null},i}(i.bind(this));return r=!0,Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),r=!1,n}}}}var y=n(1585);function Z(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function j(t,e,n){if(void 0!==n&&e.top>t.top-n)return n+e.top}function T(t,e,n){if(void 0!==n&&e.bottom<t.bottom+n)return n+(window.innerHeight-e.bottom)}var b=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],w=[];function P(t,e){if(t){var n=w.find((function(e){return e.target===t}));n?n.affixList.push(e):(n={target:t,affixList:[e],eventHandlers:{}},w.push(n),b.forEach((function(e){n.eventHandlers[e]=(0,y.Z)(t,e,(function(){n.affixList.forEach((function(t){t.lazyUpdatePosition()}))}))})))}}function _(t){var e=w.find((function(e){var n=e.affixList.some((function(e){return e===t}));return n&&(e.affixList=e.affixList.filter((function(e){return e!==t}))),n}));e&&0===e.affixList.length&&(w=w.filter((function(t){return t!==e})),b.forEach((function(t){var n=e.eventHandlers[t];n&&n.remove&&n.remove()})))}var k,N=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"===typeof Reflect?"undefined":(0,f.Z)(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function C(){return"undefined"!==typeof window?window:null}!function(t){t[t.None=0]="None",t[t.Prepare=1]="Prepare"}(k||(k={}));var E=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).state={status:k.None,lastAffix:!1,prevTarget:null},t.getOffsetTop=function(){var e=t.props,n=e.offsetBottom,i=e.offsetTop;return void 0===n&&void 0===i?0:i},t.getOffsetBottom=function(){return t.props.offsetBottom},t.savePlaceholderNode=function(e){t.placeholderNode=e},t.saveFixedNode=function(e){t.fixedNode=e},t.measure=function(){var e=t.state,n=e.status,i=e.lastAffix,r=t.props.onChange,o=t.getTargetFunc();if(n===k.Prepare&&t.fixedNode&&t.placeholderNode&&o){var a=t.getOffsetTop(),s=t.getOffsetBottom(),u=o();if(u){var f={status:k.None},c=Z(u),l=Z(t.placeholderNode),d=j(l,c,a),h=T(l,c,s);void 0!==d?(f.affixStyle={position:"fixed",top:d,width:l.width,height:l.height},f.placeholderStyle={width:l.width,height:l.height}):void 0!==h&&(f.affixStyle={position:"fixed",bottom:h,width:l.width,height:l.height},f.placeholderStyle={width:l.width,height:l.height}),f.lastAffix=!!f.affixStyle,r&&i!==f.lastAffix&&r(f.lastAffix),t.setState(f)}}},t.prepareMeasure=function(){t.setState({status:k.Prepare,affixStyle:void 0,placeholderStyle:void 0})},t}return(0,a.Z)(n,[{key:"getTargetFunc",value:function(){var t=this.context.getTargetContainer,e=this.props.target;return void 0!==e?e:t||C}},{key:"componentDidMount",value:function(){var t=this,e=this.getTargetFunc();e&&(this.timeout=setTimeout((function(){P(e(),t),t.updatePosition()})))}},{key:"componentDidUpdate",value:function(t){var e=this.state.prevTarget,n=this.getTargetFunc(),i=(null===n||void 0===n?void 0:n())||null;e!==i&&(_(this),i&&(P(i,this),this.updatePosition()),this.setState({prevTarget:i})),t.offsetTop===this.props.offsetTop&&t.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),_(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var t=this.getTargetFunc(),e=this.state.affixStyle;if(t&&e){var n=this.getOffsetTop(),i=this.getOffsetBottom(),r=t();if(r&&this.placeholderNode){var o=Z(r),a=Z(this.placeholderNode),s=j(a,o,n),u=T(a,o,i);if(void 0!==s&&e.top===s||void 0!==u&&e.bottom===u)return}}this.prepareMeasure()}},{key:"render",value:function(){var t=this,e=this.state,n=e.affixStyle,o=e.placeholderStyle,a=this.props,s=a.affixPrefixCls,u=a.children,f=d()((0,r.Z)({},s,!!n)),l=(0,h.Z)(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls"]);return c.createElement(p.Z,{onResize:function(){t.updatePosition()}},c.createElement("div",(0,i.Z)({},l,{ref:this.savePlaceholderNode}),n&&c.createElement("div",{style:o,"aria-hidden":"true"}),c.createElement("div",{className:f,ref:this.saveFixedNode,style:n},c.createElement(p.Z,{onResize:function(){t.updatePosition()}},u))))}}]),n}(c.Component);E.contextType=g.E_,N([x()],E.prototype,"updatePosition",null),N([x()],E.prototype,"lazyUpdatePosition",null);var R=c.forwardRef((function(t,e){var n=t.prefixCls,r=(0,c.useContext(g.E_).getPrefixCls)("affix",n),o=(0,i.Z)((0,i.Z)({},t),{affixPrefixCls:r});return c.createElement(E,(0,i.Z)({},o,{ref:e}))}))},844:function(t){var e=function(t){return"string"===typeof t};function n(t,n,i){var r=0,o=0;if(""===t)return t;if(!t||!e(t))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var a=n;(function(t){return t instanceof RegExp})(a)||(a=new RegExp("("+function(t){var e=/[\\^$.*+?()[\]{}|]/g,n=RegExp(e.source);return t&&n.test(t)?t.replace(e,"\\$&"):t}(a)+")","gi"));for(var s=t.split(a),u=1,f=s.length;u<f;u+=2)void 0!==s[u]&&void 0!==s[u-1]?(o=s[u].length,r+=s[u-1].length,s[u]=i(s[u],u,r),r+=o):console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");return s}t.exports=function(t,i,r){return Array.isArray(t)||(t=[t]),function(t){var e=[];return t.forEach((function(t){Array.isArray(t)?e=e.concat(t):e.push(t)})),e}(t.map((function(t){return e(t)?n(t,i,r):t})))}}}]);
//# sourceMappingURL=14.bec0a816.chunk.js.map