(self.webpackChunkgamebook_creator=self.webpackChunkgamebook_creator||[]).push([[598],{6485:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r,i=n(168),o=(n(2791),n(6031)),a=n(6060),s=n(4483),u=n(3174),l=n(6871),f=n(184),c=o.ZP.div(r||(r=(0,i.Z)(["\n    // put some styles here\n"]))),d=[{label:"Editor",key:"goToEditor",disabled:!1,icon:(0,f.jsx)(s.G,{icon:u.A35})}],p=function(){var t=(0,l.s0)();return(0,f.jsx)(c,{children:(0,f.jsx)(a.Z,{onClick:function(e){if("goToEditor"===e.key)t("/editor")},mode:"horizontal",items:d})})}},7598:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return L}});var r=n(9439),i=n(168),o=n(2791),a=n(6031),s=n(9964),u=n(6106),l=n(914),f=n(9581),c=n(7309),d=n(6485),p=n(6697),h=n(844),v=n.n(h),g=n(3504),m=function(){return m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},m.apply(this,arguments)};var x="",y=null,b=null,w=null;function P(){x="",null!==y&&y.disconnect(),null!==b&&(window.clearTimeout(b),b=null)}function T(t){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(t.tagName)&&!t.hasAttribute("disabled")||["A","AREA"].includes(t.tagName)&&t.hasAttribute("href")}function Z(){var t=null;if("#"===x)t=document.body;else{var e=x.replace("#","");null===(t=document.getElementById(e))&&"#top"===x&&(t=document.body)}if(null!==t){w(t);var n=t.getAttribute("tabindex");return null!==n||T(t)||t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),null!==n||T(t)||(t.blur(),t.removeAttribute("tabindex")),P(),!0}return!1}function j(t){return o.forwardRef((function(e,n){var r="";"string"===typeof e.to&&e.to.includes("#")?r="#"+e.to.split("#").slice(1).join("#"):"object"===typeof e.to&&"string"===typeof e.to.hash&&(r=e.to.hash);var i={};t===g.OL&&(i.isActive=function(t,e){return t&&t.isExact&&e.hash===r});var a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["scroll","smooth","timeout","elementId"]);return o.createElement(t,m({},i,a,{onClick:function(t){var n;P(),x=e.elementId?"#"+e.elementId:r,e.onClick&&e.onClick(t),""===x||t.defaultPrevented||0!==t.button||e.target&&"_self"!==e.target||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(w=e.scroll||function(t){return e.smooth?t.scrollIntoView({behavior:"smooth"}):t.scrollIntoView()},n=e.timeout,window.setTimeout((function(){!1===Z()&&(null===y&&(y=new MutationObserver(Z)),y.observe(document,{attributes:!0,childList:!0,subtree:!0}),b=window.setTimeout((function(){P()}),n||1e4))}),0))},ref:n}),e.children)}))}var E,N=j(g.rU),O=(j(g.OL),n(2810)),_=n(4483),A=n(3174),k=n(184),C=a.ZP.div(E||(E=(0,i.Z)(["\n    // put some styles here\n    .preview {\n        &__container {\n            padding: 2rem 0;\n            text-align: justify;\n        }\n        &__title {\n            text-align: center;\n        }\n        &__subtitle {\n            text-align: center;\n            margin-bottom: 4rem;\n        }\n        &__paragraph {\n            font-size: 1.2rem;\n            padding-bottom: 2rem;\n        }\n    }\n"]))),S=s.Z.Title,R=s.Z.Text,B=s.Z.Paragraph,L=function(){var t=(0,p.C)((function(t){return t.gamebook})),e=t.authorName,n=t.gamebookTitle,i=t.chapters,a=o.useState([]),s=(0,r.Z)(a,2),h=s[0],g=s[1];return o.useEffect((function(){g((function(){return i.map((function(t){return t.id}))}))}),[]),(0,k.jsxs)(C,{children:[(0,k.jsx)(d.Z,{}),(0,k.jsx)(u.Z,{justify:"center",className:"preview__container",id:"mainRow",children:(0,k.jsxs)(l.Z,{xs:22,sm:22,md:22,lg:16,xl:12,xxl:10,children:[(0,k.jsx)(S,{level:2,className:"preview__title",children:n}),(0,k.jsxs)(S,{level:4,className:"preview__subtitle",children:["by ",e]}),i&&i.map((function(t){return(0,k.jsxs)(B,{className:"preview__paragraph",id:t.id,children:[t.chapterNumber&&(0,k.jsx)(S,{level:4,className:"preview__title",children:t.chapterNumber}),t.title&&(0,k.jsx)(S,{level:4,className:"preview__title",children:t.title}),(0,k.jsx)(R,{children:v()(null===t||void 0===t?void 0:t.content,/\{(\d+)\}/g,(function(t,e){var n=h[parseInt(t)-1];return n?(0,k.jsxs)("span",{children:["[",(0,k.jsx)(N,{to:"#".concat(n),children:t}),"]"]},(0,O.Z)()):(0,k.jsxs)("span",{children:["[",t,"]"]},(0,O.Z)())}))})]},t.id)}))]})}),(0,k.jsx)(f.Z,{style:{position:"fixed",bottom:50,right:50},children:(0,k.jsx)(N,{to:"#mainRow",children:(0,k.jsx)(c.Z,{size:"large",type:"primary",shape:"circle",children:(0,k.jsx)(_.G,{icon:A.UAH})})})})]})}},6697:function(t,e,n){"use strict";n.d(e,{C:function(){return o},T:function(){return i}});var r=n(9434),i=function(){return(0,r.I0)()},o=r.v9},9581:function(t,e,n){"use strict";n.d(e,{Z:function(){return k}});var r=n(7462),i=n(4942),o=n(5671),a=n(3144),s=n(136),u=n(7277),l=n(1002),f=n(2791),c=n(1694),d=n.n(c),p=n(1818),h=n(8829),v=n(3785),g=n(3433),m=n(5314);function x(){return function(t,e,n){var r=n.value,i=!1;return{configurable:!0,get:function(){if(i||this===t.prototype||this.hasOwnProperty(e))return r;var n=function(t){var e,n=function(n){return function(){e=null,t.apply(void 0,(0,g.Z)(n))}},r=function(){if(null==e){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e=(0,m.Z)(n(r))}};return r.cancel=function(){m.Z.cancel(e),e=null},r}(r.bind(this));return i=!0,Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),i=!1,n}}}}var y=n(1585);function b(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function w(t,e,n){if(void 0!==n&&e.top>t.top-n)return n+e.top}function P(t,e,n){if(void 0!==n&&e.bottom<t.bottom+n)return n+(window.innerHeight-e.bottom)}var T=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],Z=[];function j(t,e){if(t){var n=Z.find((function(e){return e.target===t}));n?n.affixList.push(e):(n={target:t,affixList:[e],eventHandlers:{}},Z.push(n),T.forEach((function(e){n.eventHandlers[e]=(0,y.Z)(t,e,(function(){n.affixList.forEach((function(t){t.lazyUpdatePosition()}))}))})))}}function E(t){var e=Z.find((function(e){var n=e.affixList.some((function(e){return e===t}));return n&&(e.affixList=e.affixList.filter((function(e){return e!==t}))),n}));e&&0===e.affixList.length&&(Z=Z.filter((function(t){return t!==e})),T.forEach((function(t){var n=e.eventHandlers[t];n&&n.remove&&n.remove()})))}var N,O=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,l.Z)(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function _(){return"undefined"!==typeof window?window:null}!function(t){t[t.None=0]="None",t[t.Prepare=1]="Prepare"}(N||(N={}));var A=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).state={status:N.None,lastAffix:!1,prevTarget:null},t.getOffsetTop=function(){var e=t.props,n=e.offsetBottom,r=e.offsetTop;return void 0===n&&void 0===r?0:r},t.getOffsetBottom=function(){return t.props.offsetBottom},t.savePlaceholderNode=function(e){t.placeholderNode=e},t.saveFixedNode=function(e){t.fixedNode=e},t.measure=function(){var e=t.state,n=e.status,r=e.lastAffix,i=t.props.onChange,o=t.getTargetFunc();if(n===N.Prepare&&t.fixedNode&&t.placeholderNode&&o){var a=t.getOffsetTop(),s=t.getOffsetBottom(),u=o();if(u){var l={status:N.None},f=b(u),c=b(t.placeholderNode),d=w(c,f,a),p=P(c,f,s);void 0!==d?(l.affixStyle={position:"fixed",top:d,width:c.width,height:c.height},l.placeholderStyle={width:c.width,height:c.height}):void 0!==p&&(l.affixStyle={position:"fixed",bottom:p,width:c.width,height:c.height},l.placeholderStyle={width:c.width,height:c.height}),l.lastAffix=!!l.affixStyle,i&&r!==l.lastAffix&&i(l.lastAffix),t.setState(l)}}},t.prepareMeasure=function(){t.setState({status:N.Prepare,affixStyle:void 0,placeholderStyle:void 0})},t}return(0,a.Z)(n,[{key:"getTargetFunc",value:function(){var t=this.context.getTargetContainer,e=this.props.target;return void 0!==e?e:t||_}},{key:"componentDidMount",value:function(){var t=this,e=this.getTargetFunc();e&&(this.timeout=setTimeout((function(){j(e(),t),t.updatePosition()})))}},{key:"componentDidUpdate",value:function(t){var e=this.state.prevTarget,n=this.getTargetFunc(),r=(null===n||void 0===n?void 0:n())||null;e!==r&&(E(this),r&&(j(r,this),this.updatePosition()),this.setState({prevTarget:r})),t.offsetTop===this.props.offsetTop&&t.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),E(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var t=this.getTargetFunc(),e=this.state.affixStyle;if(t&&e){var n=this.getOffsetTop(),r=this.getOffsetBottom(),i=t();if(i&&this.placeholderNode){var o=b(i),a=b(this.placeholderNode),s=w(a,o,n),u=P(a,o,r);if(void 0!==s&&e.top===s||void 0!==u&&e.bottom===u)return}}this.prepareMeasure()}},{key:"render",value:function(){var t=this,e=this.state,n=e.affixStyle,o=e.placeholderStyle,a=this.props,s=a.affixPrefixCls,u=a.children,l=d()((0,i.Z)({},s,!!n)),c=(0,p.Z)(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls"]);return f.createElement(h.Z,{onResize:function(){t.updatePosition()}},f.createElement("div",(0,r.Z)({},c,{ref:this.savePlaceholderNode}),n&&f.createElement("div",{style:o,"aria-hidden":"true"}),f.createElement("div",{className:l,ref:this.saveFixedNode,style:n},f.createElement(h.Z,{onResize:function(){t.updatePosition()}},u))))}}]),n}(f.Component);A.contextType=v.E_,O([x()],A.prototype,"updatePosition",null),O([x()],A.prototype,"lazyUpdatePosition",null);var k=f.forwardRef((function(t,e){var n=t.prefixCls,i=(0,f.useContext(v.E_).getPrefixCls)("affix",n),o=(0,r.Z)((0,r.Z)({},t),{affixPrefixCls:i});return f.createElement(A,(0,r.Z)({},o,{ref:e}))}))},844:function(t){var e=function(t){return"string"===typeof t};function n(t,n,r){var i=0,o=0;if(""===t)return t;if(!t||!e(t))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var a=n;(function(t){return t instanceof RegExp})(a)||(a=new RegExp("("+function(t){var e=/[\\^$.*+?()[\]{}|]/g,n=RegExp(e.source);return t&&n.test(t)?t.replace(e,"\\$&"):t}(a)+")","gi"));for(var s=t.split(a),u=1,l=s.length;u<l;u+=2)void 0!==s[u]&&void 0!==s[u-1]?(o=s[u].length,i+=s[u-1].length,s[u]=r(s[u],u,i),i+=o):console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");return s}t.exports=function(t,r,i){return Array.isArray(t)||(t=[t]),function(t){var e=[];return t.forEach((function(t){Array.isArray(t)?e=e.concat(t):e.push(t)})),e}(t.map((function(t){return e(t)?n(t,r,i):t})))}}}]);
//# sourceMappingURL=598.922290ae.chunk.js.map