"use strict";(self.webpackChunkgamemaker=self.webpackChunkgamemaker||[]).push([[426],{3426:function(e,n,i){i.r(n),i.d(n,{default:function(){return O}});var t,s,r,l,o,a=i(168),d=i(6106),c=i(914),x=i(2791),h=i(6031),u=i(1413),p=i(9439),m=i(9964),j=i(3478),g=i(6697),b=i(4304),f=i(4483),v=i(3174),Z=i(184),k=function(e){var n=e.dead,i=e.end,t=e.fixed,s=e.ready,r=e.start,l=e.win;return(0,Z.jsxs)(Z.Fragment,{children:[r&&(0,Z.jsx)(f.G,{icon:v.zc,size:"sm",style:{marginRight:"10px"}}),t&&(0,Z.jsx)(f.G,{icon:v.Lad,size:"sm",style:{marginRight:"10px"}}),n&&(0,Z.jsx)(f.G,{icon:v.QmK,size:"sm",style:{marginRight:"10px"}}),i&&(0,Z.jsx)(f.G,{icon:v.ej9,size:"sm",style:{marginRight:"10px"}}),l&&(0,Z.jsx)(f.G,{icon:v.kWN,size:"sm",style:{marginRight:"10px"},color:"gold"}),s?(0,Z.jsx)(f.G,{icon:v.fV7,size:"sm",style:{marginRight:"10px"},color:"green"}):(0,Z.jsx)(f.G,{icon:v.WA2,size:"sm",style:{marginRight:"10px"},color:"red"})]})},y=m.Z.Text,C=h.ZP.div(t||(t=(0,a.Z)(["\n    // put some styles here\n    height: 100%;\n    /* border: 1px solid #444; */\n    padding: 10px;\n\n    .tree-list {\n        overflow-y: auto;\n        height: calc(100% - 50px);\n        border: 1px solid #444;\n        margin: 10px 0;\n        list-style-type: none;\n        padding-left: 15px;\n        li {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            font-size: 1.2rem;\n            color: #bbb;\n            margin: 10px 0px;\n            padding: 5px 0;\n            &:hover {\n                background-color: #222;\n                cursor: pointer;\n            }\n        }\n        &_selected {\n            background-color: #333;\n        }\n    }\n"]))),w=function(){var e=(0,g.C)((function(e){return e.gamebook})),n=e.chapters,i=e.selectedId,t=(0,g.T)(),s=x.useState(i),r=(0,p.Z)(s,2),l=r[0],o=r[1],a=x.useState(""),d=(0,p.Z)(a,2),c=d[0],h=d[1];return x.useEffect((function(){return console.log(l),function(){}}),[l]),(0,Z.jsxs)(C,{children:[(0,Z.jsx)(j.Z,{placeholder:"Filter paragraphs by title or number",size:"large",allowClear:!0,value:c,onChange:function(e){h(e.target.value)}}),(0,Z.jsx)("ul",{className:"tree-list",children:n.filter((function(e){return c.split(" ").some((function(n){return e.title.toLowerCase().trim().includes(n.toLowerCase().trim())||parseInt(n.trim())===e.chapterNumber}))})).map((function(e){return(0,Z.jsxs)("li",{className:"tree-list_chapter ".concat(e.id===i?"tree-list_selected":""),onClick:function(){return n=e.id,o(n),void t((0,b.kC)(n));var n},children:[(0,Z.jsx)(y,{children:"".concat(e.chapterNumber,") ").concat(e.title.length>25?e.title.slice(0,25)+"...":e.title)}),(0,Z.jsx)("div",{children:(null===e||void 0===e?void 0:e.status)&&(0,Z.jsx)(k,(0,u.Z)({},e.status))})]},e.id)}))})]})},G=i(3272),N=i(4587),I=i(7309),z=h.ZP.div(s||(s=(0,a.Z)(["\n    // put some styles here\n    height: 100%;\n    textarea {\n        width: 100%;\n        height: 50vh;\n        padding: 12px 20px;\n        font-size: 1.2rem;\n        resize: none;\n    }\n"]))),P=function(){var e=(0,g.C)((function(e){return e.gamebook})),n=e.chapters,i=e.selectedId,t=G.Z.useForm(),s=(0,p.Z)(t,1)[0];x.useEffect((function(){var e,t,r,l,o,a,d,c,x,h,u,p,m;i&&(e=n.find((function(e){return e.id===i})),s.setFieldsValue({id:null===(t=e)||void 0===t?void 0:t.id,chapterNumber:null===(r=e)||void 0===r?void 0:r.chapterNumber,title:null===(l=e)||void 0===l?void 0:l.title,content:null===(o=e)||void 0===o?void 0:o.content,win:null===(a=e)||void 0===a||null===(d=a.status)||void 0===d?void 0:d.win,dead:null===(c=e)||void 0===c||null===(x=c.status)||void 0===x?void 0:x.dead,fixed:null===(h=e)||void 0===h||null===(u=h.status)||void 0===u?void 0:u.fixed,ready:null===(p=e)||void 0===p||null===(m=p.status)||void 0===m?void 0:m.ready}))}),[i]);return(0,Z.jsx)(z,{children:(0,Z.jsxs)(G.Z,{form:s,autoComplete:"off",layout:"vertical",size:"large",onFinish:function(e){console.log(e)},children:[(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(G.Z.Item,{name:"chapterNumber",children:(0,Z.jsx)(j.Z,{})})}),(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(G.Z.Item,{name:"id",children:(0,Z.jsx)(j.Z,{})})})]}),(0,Z.jsx)(G.Z.Item,{label:"Title",name:"title",children:(0,Z.jsx)(j.Z,{})}),(0,Z.jsxs)(d.Z,{gutter:16,children:[(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(G.Z.Item,{name:"win",valuePropName:"checked",children:(0,Z.jsxs)(N.Z,{onChange:function(){},children:[(0,Z.jsx)(f.G,{icon:v.kWN})," Win ending"]})})}),(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(G.Z.Item,{name:"dead",valuePropName:"checked",children:(0,Z.jsxs)(N.Z,{onChange:function(){},value:"Dead ending",children:[(0,Z.jsx)(f.G,{icon:v.QmK})," ","Dead ending"]})})}),(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(G.Z.Item,{name:"fixed",valuePropName:"checked",children:(0,Z.jsxs)(N.Z,{onChange:function(){},value:"Fixed chapter",children:[(0,Z.jsx)(f.G,{icon:v.Lad})," Fixed chapter"]})})}),(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(G.Z.Item,{name:"ready",valuePropName:"checked",children:(0,Z.jsxs)(N.Z,{onChange:function(){},value:"Fixed chapter",children:[(0,Z.jsx)(f.G,{icon:v.fV7})," Is ready"]})})})]}),(0,Z.jsx)(G.Z.Item,{label:"Paragraph",name:"content",className:"chapter-editor_textarea",children:(0,Z.jsx)(j.Z.TextArea,{})}),(0,Z.jsx)(G.Z.Item,{children:(0,Z.jsx)(I.Z,{type:"primary",htmlType:"submit",disabled:!0,children:"Save"})})]})})},T=i(6060),F=i(4806),S=i(62),_=m.Z.Paragraph,E=m.Z.Title,R=h.ZP.div(r||(r=(0,a.Z)(["\n    // put some styles here\n"]))),V=function(e){var n=e.isVisible,i=e.setIsVisible,t=(0,g.T)(),s=(0,g.C)((function(e){return e.gamebook})),r=s.authorName,l=s.gamebookTitle,o=x.useState(r),a=(0,p.Z)(o,2),h=a[0],u=a[1],m=x.useState(l),j=(0,p.Z)(m,2),f=j[0],v=j[1];return(0,Z.jsx)(R,{children:(0,Z.jsxs)(F.Z,{title:"View / Edit gamebook metadata",visible:n,footer:null,onCancel:function(){i(!1)},children:[(0,Z.jsx)(E,{level:5,children:"Author"}),(0,Z.jsx)(_,{editable:{icon:(0,Z.jsx)(S.Z,{}),tooltip:"click to edit text",onChange:u},children:h}),(0,Z.jsx)(E,{level:5,children:"Title"}),(0,Z.jsx)(_,{editable:{icon:(0,Z.jsx)(S.Z,{}),tooltip:"click to edit text",onChange:v},children:f}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(c.Z,{span:24,style:{display:"flex",justifyContent:"end"},children:(0,Z.jsx)(I.Z,{onClick:function(){t((0,b.y2)(h)),t((0,b.K2)(f))},children:"Save"})})})]})})},L=h.ZP.div(l||(l=(0,a.Z)(["\n    // put some styles here\n"]))),A=[{label:"File",key:"File",children:[{label:"New book",key:"newBook",icon:(0,Z.jsx)(f.G,{icon:v.FL8}),disabled:!0},{label:"Oper existing",key:"openExisting",icon:(0,Z.jsx)(f.G,{icon:v.cC_}),disabled:!0}]},{label:"Book",key:"bookOptions",children:[{label:"Add new chapter",key:"addNewChapter",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:v.b7h})},{label:"Schuffle chapters",key:"schuffleChapters",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:v.RJo})},{label:"Statistics",key:"bookStatistics",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:v.OS1})},{label:"Metadata",key:"metadata",disabled:!1,icon:(0,Z.jsx)(f.G,{icon:v.cnt})}]},{label:"Export",key:"exportBook",children:[{label:"Export to HTML",key:"exportHtml",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:v.w49})},{label:"Export to PDF",key:"exportPdf",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:v.gSj})},{label:"Export to TXT",key:"exportTxt",disabled:!0,icon:(0,Z.jsx)(f.G,{icon:v.nfZ})}]},{label:"Html Preview",key:"previewBook",disabled:!0}],B=function(){var e=x.useState("mail"),n=(0,p.Z)(e,2),i=n[0],t=n[1],s=x.useState(!1),r=(0,p.Z)(s,2),l=r[0],o=r[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(L,{children:(0,Z.jsx)(T.Z,{onClick:function(e){console.log("click ",e),t(e.key)},selectedKeys:[i],mode:"horizontal",items:A})}),(0,Z.jsx)(V,{isVisible:l,setIsVisible:o})]})},K=h.ZP.div(o||(o=(0,a.Z)(["\n    // put some styles here\n    height: 100vh;\n    /* border: 1px solid red; */\n    .sidebar__tree-container {\n        /* border: 1px solid blue; */\n        width: 25%;\n        height: calc(100vh - 86px);\n        overflow-y: hidden;\n    }\n    .graph__tree-container {\n        width: 25%;\n        height: calc(100vh - 86px);\n        /* background-color: #222; */\n    }\n    .editor-container {\n        padding: 10px;\n        width: 50%;\n    }\n"]))),O=function(e){Object.assign({},e);return(0,Z.jsxs)(K,{children:[(0,Z.jsx)(B,{}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(c.Z,{className:"sidebar__tree-container",xs:{span:24,order:2},md:{span:12,order:2},lg:{span:10,order:1},xl:{span:6,order:1},children:(0,Z.jsx)(w,{})}),(0,Z.jsx)(c.Z,{className:"editor-container",xs:{span:24,order:1},md:{span:24,order:1},lg:{span:14,order:2},xl:{span:12,order:2},children:(0,Z.jsx)(P,{})}),(0,Z.jsx)(c.Z,{className:"graph__tree-container",xs:{span:24,order:3},md:{span:12,order:3},lg:{span:24,order:3},xl:{span:6,order:3}})]})]})}},6697:function(e,n,i){i.d(n,{C:function(){return r},T:function(){return s}});var t=i(9434),s=function(){return(0,t.I0)()},r=t.v9}}]);
//# sourceMappingURL=426.790de7f1.chunk.js.map