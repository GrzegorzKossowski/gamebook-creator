(self.webpackChunkgamebook_creator=self.webpackChunkgamebook_creator||[]).push([[14],{38:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(4483),r=n(3174),o=n(184),a=function(e){var t=e.dead,n=e.fixed,a=e.ready,s=e.start,f=e.win;return(0,o.jsxs)(o.Fragment,{children:[s&&(0,o.jsx)(i.G,{icon:r.zc,size:"sm",style:{marginRight:"10px"}}),n&&(0,o.jsx)(i.G,{icon:r.Lad,size:"sm",style:{marginRight:"10px"}}),t&&(0,o.jsx)(i.G,{icon:r.QmK,size:"sm",style:{marginRight:"10px"}}),f&&(0,o.jsx)(i.G,{icon:r.kWN,size:"sm",style:{marginRight:"10px"},color:"gold"}),a?(0,o.jsx)(i.G,{icon:r.fV7,size:"sm",style:{marginRight:"10px"},color:"green"}):(0,o.jsx)(i.G,{icon:r.WA2,size:"sm",style:{marginRight:"10px"},color:"red"})]})}},6485:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i,r=n(168),o=(n(2791),n(6031)),a=n(6060),s=n(4483),f=n(3174),u=n(6871),c=n(184),l=o.ZP.div(i||(i=(0,r.Z)(["\n    // put some styles here\n"]))),d=[{label:"Editor",key:"goToEditor",disabled:!1,icon:(0,c.jsx)(s.G,{icon:f.A35})}],h=function(){var e=(0,u.s0)();return(0,c.jsx)(l,{children:(0,c.jsx)(a.Z,{onClick:function(t){if("goToEditor"===t.key)e("/editor")},mode:"horizontal",items:d})})}},3014:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var i,r,o=n(9439),a=n(168),s=n(2791),f=n(6031),u=n(9964),c=n(6106),l=n(914),d=n(9581),h=n(7309),p=n(6485),g=n(6697),v=n(4483),m=n(3174),x=n(1413),y=n(844),Z=n.n(y),j=n(2810),T=n(8604),b=n(5868),w=n(38),P=n(184),_=f.ZP.div(i||(i=(0,a.Z)(["\n    // put some styles here\n    .single {\n        &__paragraph {\n            padding-bottom: 2rem;\n        }\n        &__title {\n            text-align: center;\n        }\n        &__content {\n            font-size: 1.2rem;\n            line-height: 2rem;\n        }\n    }\n"]))),k=u.Z.Title,N=u.Z.Text,E=u.Z.Paragraph,C=function(){var e=(0,g.T)(),t=(0,g.C)((function(e){return e.gamebook})),n=(t.authorName,t.gamebookTitle,t.chapters),i=t.selectedId,r=s.useState([]),a=(0,o.Z)(r,2),f=a[0],u=a[1],c=s.useState(""),l=(0,o.Z)(c,2);l[0],l[1];s.useEffect((function(){u((function(){return n.map((function(e){return e.id}))})),i||e((0,T.kC)(b.k.FIRST_CHAPTER_ID))}),[]);var d=s.useCallback((function(t){console.log(t),e((0,T.kC)(t))}),[]),p=function(e){if(!e)return(0,P.jsx)(N,{children:"No chapter's content"});var t=Z()(e,/(\n)+/g,(function(e,t){return(0,P.jsx)("br",{})}));return t=Z()(t,/\{(\d+)\}/g,(function(e,t){var n=f[parseInt(e)-1];return n?(0,P.jsx)("span",{children:(0,P.jsx)(h.Z,{onClick:function(){return d(n)},children:e})},(0,j.Z)()):(0,P.jsxs)("span",{style:{color:"#ffd000"},children:["[",e,"]"]},(0,j.Z)())})),Z()(t,/\{\}/g,(function(e,t){return(0,P.jsx)("span",{style:{color:"#ff2f00"},children:"{EMPTY}"},(0,j.Z)())}))};return(0,P.jsx)(_,{children:n&&i&&n.filter((function(e){return e.id===i})).map((function(e){return(0,P.jsxs)(E,{className:"single__paragraph",id:e.id,children:[e.chapterNumber&&(0,P.jsx)(k,{level:4,className:"single__title",children:e.chapterNumber}),e.title&&(0,P.jsxs)(k,{level:4,className:"single__title",children:[e.status&&(0,P.jsx)(w.Z,(0,x.Z)({},e.status)),e.title]}),(0,P.jsx)(N,{className:"single__content",children:p(null===e||void 0===e?void 0:e.content)})]},e.id)}))})},R=f.ZP.div(r||(r=(0,a.Z)(["\n    // put some styles here\n    .play {\n        &__container {\n            padding: 2rem 0;\n            text-align: justify;\n        }\n        &__title {\n            text-align: center;\n        }\n        &__author {\n            text-align: center;\n            margin-bottom: 4rem;\n        }\n    }\n"]))),S=u.Z.Title,z=(u.Z.Text,u.Z.Paragraph,function(){var e=(0,g.T)(),t=(0,g.C)((function(e){return e.gamebook})),n=t.authorName,i=t.gamebookTitle,r=t.chapters,a=(t.selectedId,s.useState([])),f=(0,o.Z)(a,2),u=(f[0],f[1]);s.useEffect((function(){u((function(){return r.map((function(e){return e.id}))}))}),[]);return(0,P.jsxs)(R,{children:[(0,P.jsx)(p.Z,{}),(0,P.jsx)(c.Z,{justify:"center",className:"play__container",id:"mainRow",children:(0,P.jsxs)(l.Z,{xs:22,sm:22,md:22,lg:16,xl:12,xxl:10,children:[(0,P.jsx)(S,{level:2,className:"play__title",children:i}),(0,P.jsxs)(S,{level:4,className:"play__author",children:["by ",n]}),(0,P.jsx)(C,{})]})}),(0,P.jsx)(d.Z,{style:{position:"fixed",bottom:50,right:50},children:(0,P.jsxs)(h.Z,{size:"large",type:"primary",onClick:function(){e((0,T.kC)(b.k.FIRST_CHAPTER_ID))},children:[(0,P.jsx)(v.G,{icon:m.UAH,className:"faIcon"})," ","Start from first chapter"]})})]})})},9581:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var i=n(7462),r=n(4942),o=n(5671),a=n(3144),s=n(136),f=n(7277),u=n(1002),c=n(2791),l=n(1694),d=n.n(l),h=n(1818),p=n(8829),g=n(3785),v=n(3433),m=n(5314);function x(){return function(e,t,n){var i=n.value,r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(t))return i;var n=function(e){var t,n=function(n){return function(){t=null,e.apply(void 0,(0,v.Z)(n))}},i=function(){if(null==t){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];t=(0,m.Z)(n(i))}};return i.cancel=function(){m.Z.cancel(t),t=null},i}(i.bind(this));return r=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),r=!1,n}}}}var y=n(1585);function Z(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function j(e,t,n){if(void 0!==n&&t.top>e.top-n)return n+t.top}function T(e,t,n){if(void 0!==n&&t.bottom<e.bottom+n)return n+(window.innerHeight-t.bottom)}var b=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],w=[];function P(e,t){if(e){var n=w.find((function(t){return t.target===e}));n?n.affixList.push(t):(n={target:e,affixList:[t],eventHandlers:{}},w.push(n),b.forEach((function(t){n.eventHandlers[t]=(0,y.Z)(e,t,(function(){n.affixList.forEach((function(e){e.lazyUpdatePosition()}))}))})))}}function _(e){var t=w.find((function(t){var n=t.affixList.some((function(t){return t===e}));return n&&(t.affixList=t.affixList.filter((function(t){return t!==e}))),n}));t&&0===t.affixList.length&&(w=w.filter((function(e){return e!==t})),b.forEach((function(e){var n=t.eventHandlers[e];n&&n.remove&&n.remove()})))}var k,N=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"===typeof Reflect?"undefined":(0,u.Z)(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};function E(){return"undefined"!==typeof window?window:null}!function(e){e[e.None=0]="None",e[e.Prepare=1]="Prepare"}(k||(k={}));var C=function(e){(0,s.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).state={status:k.None,lastAffix:!1,prevTarget:null},e.getOffsetTop=function(){var t=e.props,n=t.offsetBottom,i=t.offsetTop;return void 0===n&&void 0===i?0:i},e.getOffsetBottom=function(){return e.props.offsetBottom},e.savePlaceholderNode=function(t){e.placeholderNode=t},e.saveFixedNode=function(t){e.fixedNode=t},e.measure=function(){var t=e.state,n=t.status,i=t.lastAffix,r=e.props.onChange,o=e.getTargetFunc();if(n===k.Prepare&&e.fixedNode&&e.placeholderNode&&o){var a=e.getOffsetTop(),s=e.getOffsetBottom(),f=o();if(f){var u={status:k.None},c=Z(f),l=Z(e.placeholderNode),d=j(l,c,a),h=T(l,c,s);void 0!==d?(u.affixStyle={position:"fixed",top:d,width:l.width,height:l.height},u.placeholderStyle={width:l.width,height:l.height}):void 0!==h&&(u.affixStyle={position:"fixed",bottom:h,width:l.width,height:l.height},u.placeholderStyle={width:l.width,height:l.height}),u.lastAffix=!!u.affixStyle,r&&i!==u.lastAffix&&r(u.lastAffix),e.setState(u)}}},e.prepareMeasure=function(){e.setState({status:k.Prepare,affixStyle:void 0,placeholderStyle:void 0})},e}return(0,a.Z)(n,[{key:"getTargetFunc",value:function(){var e=this.context.getTargetContainer,t=this.props.target;return void 0!==t?t:e||E}},{key:"componentDidMount",value:function(){var e=this,t=this.getTargetFunc();t&&(this.timeout=setTimeout((function(){P(t(),e),e.updatePosition()})))}},{key:"componentDidUpdate",value:function(e){var t=this.state.prevTarget,n=this.getTargetFunc(),i=(null===n||void 0===n?void 0:n())||null;t!==i&&(_(this),i&&(P(i,this),this.updatePosition()),this.setState({prevTarget:i})),e.offsetTop===this.props.offsetTop&&e.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),_(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var e=this.getTargetFunc(),t=this.state.affixStyle;if(e&&t){var n=this.getOffsetTop(),i=this.getOffsetBottom(),r=e();if(r&&this.placeholderNode){var o=Z(r),a=Z(this.placeholderNode),s=j(a,o,n),f=T(a,o,i);if(void 0!==s&&t.top===s||void 0!==f&&t.bottom===f)return}}this.prepareMeasure()}},{key:"render",value:function(){var e=this,t=this.state,n=t.affixStyle,o=t.placeholderStyle,a=this.props,s=a.affixPrefixCls,f=a.children,u=d()((0,r.Z)({},s,!!n)),l=(0,h.Z)(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls"]);return c.createElement(p.Z,{onResize:function(){e.updatePosition()}},c.createElement("div",(0,i.Z)({},l,{ref:this.savePlaceholderNode}),n&&c.createElement("div",{style:o,"aria-hidden":"true"}),c.createElement("div",{className:u,ref:this.saveFixedNode,style:n},c.createElement(p.Z,{onResize:function(){e.updatePosition()}},f))))}}]),n}(c.Component);C.contextType=g.E_,N([x()],C.prototype,"updatePosition",null),N([x()],C.prototype,"lazyUpdatePosition",null);var R=c.forwardRef((function(e,t){var n=e.prefixCls,r=(0,c.useContext(g.E_).getPrefixCls)("affix",n),o=(0,i.Z)((0,i.Z)({},e),{affixPrefixCls:r});return c.createElement(C,(0,i.Z)({},o,{ref:t}))}))},844:function(e){var t=function(e){return"string"===typeof e};function n(e,n,i){var r=0,o=0;if(""===e)return e;if(!e||!t(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var a=n;(function(e){return e instanceof RegExp})(a)||(a=new RegExp("("+function(e){var t=/[\\^$.*+?()[\]{}|]/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,"\\$&"):e}(a)+")","gi"));for(var s=e.split(a),f=1,u=s.length;f<u;f+=2)void 0!==s[f]&&void 0!==s[f-1]?(o=s[f].length,r+=s[f-1].length,s[f]=i(s[f],f,r),r+=o):console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");return s}e.exports=function(e,i,r){return Array.isArray(e)||(e=[e]),function(e){var t=[];return e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),t}(e.map((function(e){return t(e)?n(e,i,r):e})))}}}]);
//# sourceMappingURL=14.121003a9.chunk.js.map